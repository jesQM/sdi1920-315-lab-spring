<!DOCTYPE html>
<html lang="en">
<head>
  <title>Notaneitor</title>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"/>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>

	<!-- Barra de Navegación superior -->
    <nav th:replace="fragments/nav" />

	<p>Notas consultadas recientemente por el usuario:</p>
	<div class="table-responsive">
	    <table class="table table-hover">
	        <thead>
	            <tr>
	                <th class="col-md-1">id</th>
	                <th>Descripción</th>
	                <th>Puntuación</th>
	                <th class="col-md-1"> </th>
	                <th class="col-md-1"> </th>
	                <th class="col-md-1"> </th>
	            </tr>
	        </thead>
	        <tbody>
	            <tr th:each="mark : ${consultedList}">
	                <td th:text="${mark.id}"> 1</td>
	                <td th:text="${mark.description}"> Ejercicio 1</td>
	                <td th:text="${mark.score}">10</td>
	                <td><a th:href="${'/mark/details/' + mark.id}">detalles</a></td>
	                <td><a th:href="${'/mark/edit/' + mark.id}">modificar</a></td>
	                <td><a th:href="${'/mark/delete/' + mark.id}">eliminar</a></td>
	            </tr>
	        </tbody>
	    </table>
	</div>

	<div class="container">
	  <h2>Notas</h2>
	  <p>Las notas que actualmente figuran en el sistema son las siguientes:</p>
	  
	  <button type="button" id="updateButton" class="btn btn-default">Actualizar</button>
	  <script>
		 $( "#updateButton" ).click(function() {
		 	$("#tableMarks").load('/mark/list/update');
		 });
	  </script> 
	                                                                                  
	  <div class="table-responsive">
	 	<table class="table table-hover" th:fragment="tableMarks" id="tableMarks">
		    <thead>
		      <tr>
		        <th class="col-md-1">id</th>
		        <th th:text="#{mark.description}"></th>
                <th th:text="#{mark.points}"></th>
				<th class="col-md-1"> </th>
				<th class="col-md-1"> </th>
				<th class="col-md-1"> </th>
		      </tr>
		    </thead>
			<tbody>
			  <tr th:each="mark : ${markList}">
			    <td th:text="${mark.id}"> 1</td>
			    <td th:text="${mark.description}"> Ejercicio 1</td>
			    <td th:text="${mark.score}">10</td>
			    <td><a th:href="${'/mark/details/' + mark.id} " th:text="#{list.details}">detalles</a></td>
                <td><a th:href="${'/mark/edit/' + mark.id}" th:text="#{list.modify}">modificar</a></td>
                <td><a th:href="${'/mark/delete/' + mark.id}" th:text="#{list.delete}">eliminar</a></td>
			  </tr>
			</tbody>
		  </table>
	  </div>
	</div>


</body>
</html>